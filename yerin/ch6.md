## 리덕스로 상태 관리하기

* 리덕시 사용 시 따라야 할 세 가지 원칙

  - 전체 상탯값을 하나의 객체에 저장한다.
  - 상탯값은 불변 객체다.
    - 상탯값 변경 여부 파악이 빠름
    - 메모이제이션과 같은 기능을 활용하기 좋음
    - 렌더 성능 up up
  - 상탯값은 순수 함수에 의해서만 번경되어야 한다.
    - 부수효과를 일으키지 않는 순수함수로 새로운 상탯값을 만들어야함
    - 순수함수란?
      - 부수효과를 일으키지 않아야 함
      - 같은 인수에 대해 항상 같은 값을 반환해야 함

  

* 리덕스의 주요 개념 이해하기

  - 액션
    - type 속성값을 가진 자바스크립트 객체
    - 각 액션은 고유한 type 속성값을 사용해야 한다.
      - 팁으로 접두사를 이용하는 방법이 있음 (todo/ADD, todo/REMOVE...)
    - 액션마다 두 속성값이 항상 존재하도록 강제할 수 있음
    - 액션 타입을 상수 변수로 선언해두기
      - 리듀서에서 상태를 구분할때도 사용하기 때문
  - 미들웨어
    - 리듀서가 액션을 처리하기 전에 실행되는 함수
    - 로그, 예외처리 등을 미들웨어에서 할 수 있다
      - 예외처리 시 리듀서뿐만 아니라 하위의 미들웨어 코드에서 발생하는 예외도 catch문으로 들어온다.
    - 미들웨어를 설정하지 않으면 발생한 액션은 바로 리듀서로 보내진다.
    - 느낀점 : 리듀서로 상태값 만들 때 부수적인 처리를 어디서 해야하나 했는데 알게되었음.
  - 리듀서
    - 액션이 발생했을 때 새로운 상탯값을 만드는 함수
    - 리덕스틑 스토어를 생성할 때 상탯값이 없는 상태로 리듀서를 호출하므로, 매개변수의 기본값을 사용해서 초기 상탯값을 정의한다.
    - 상탯값은 불변 객체로 관리해야 한다.
    - 이머(immer) 패키지
      - 불변 객체를 관리
      - 기존 상탯값을 직접 수정하지 않고 새로운 객체가 생성
    - 리듀서 작성 시 주의할 점
      - 데이터 참조 : id값으로 참조하라
      - 순수 함수 : api호출은 미들웨어에서 하라..
    - createReducer 함수로 switch문을 대신할 수 있다.   ***나중에 해보기**
  - 스토어
    - 리덕스의 상탯값을 갖는 객체
    - 특별한 이유가 없다면 스토어는 하나만, 여러개일 시 combineReducer 함수 이용
    - subscribe 메서드 : 상탯값 변경 여부를 알기 위해서사용되는 이벤트 처리 함수
  - 뷰



- 데이터 종류별로 상탯값 나누기<데이터 구조화 하기>

  - 덕스 패턴

    - 연관된 액션 타입, 액션 생성자 함수, 리듀서 함수를 하나의 파일로 작성한다.

    - 리듀서 함수는 export deault 키워드로 내보낸다.

    - 액션 생성자 함수는 export 키워드로 내보낸다

    - 액션 타입은 접두사와 액션 이름을 조합해서 만든다.

      

- Reselect는 첫 번째 파라미터의 배열 안에 있는 함수들이 반환하는 값이 이전과 같으면 마지막 파라미터로 준 함수를 실행하지 않는다



* 리덕스 사가

